{"version":3,"file":"request.js","sources":["utils/request.js"],"sourcesContent":["const baseUrl = 'https://tea.qingnian8.com/api/bizhi';\r\n\r\nexport function request(config={}){\r\n\tlet {\r\n\t\turl,\r\n\t\tdata={},\r\n\t\tmethod=\"GET\",\r\n\t\theader={},\r\n\t}=config\r\n\t\turl=baseUrl+url\r\n\t\theader['access-key']=\"psr223\"\r\n\treturn new Promise((resolve,reject)=>{\r\n\t\tuni.request({\r\n\t\t\t\t\turl,\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\tmethod,\r\n\t\t\t\t\theader,\r\n\t\t\t\t\t\r\n\t\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t\tif(res.data.errCode === 0){\r\n\t\t\t\t\t\t\tresolve(res)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(res.data.errCode === 400){\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle:\"错误提示\",\r\n\t\t\t\t\t\t\t\tcontent:res.data.errMsg,\r\n\t\t\t\t\t\t\t\tshowCancel:false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treject(res.data)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:res.data.errMsg,\r\n\t\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail:err=>{\r\n\t\t\t\t\t\treject(err)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t})\r\n\t\r\n}"],"names":["uni"],"mappings":";;AAAA,MAAM,UAAU;AAET,SAAS,QAAQ,SAAO,IAAG;AACjC,MAAI;AAAA,IACH;AAAA,IACA,OAAK,CAAE;AAAA,IACP,SAAO;AAAA,IACP,SAAO,CAAE;AAAA,EACX,IAAG;AACD,QAAI,UAAQ;AACZ,SAAO,YAAY,IAAE;AACtB,SAAO,IAAI,QAAQ,CAAC,SAAQ,WAAS;AACpCA,kBAAAA,MAAI,QAAQ;AAAA,MACT;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MAEA,SAAQ,SAAK;AACZ,YAAG,IAAI,KAAK,YAAY,GAAE;AACzB,kBAAQ,GAAG;AAAA,QACX,WACO,IAAI,KAAK,YAAY,KAAI;AAChCA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM;AAAA,YACN,SAAQ,IAAI,KAAK;AAAA,YACjB,YAAW;AAAA,UACnB,CAAQ;AACD,iBAAO,IAAI,IAAI;AAAA,QACtB,OAAW;AACJA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM,IAAI,KAAK;AAAA,YACf,MAAK;AAAA,UACb,CAAQ;AAAA,QACD;AAAA,MACD;AAAA,MACD,MAAK,SAAK;AACT,eAAO,GAAG;AAAA,MACV;AAAA,IACN,CAAK;AAAA,EACL,CAAE;AAEF;;"}